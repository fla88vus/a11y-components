/* ========================================
   ICON BASE
   WCAG: Icone devono essere accessibili e scalabili
   ======================================== */
.icon {
  display: inline-block;
  vertical-align: middle;
  flex-shrink: 0; /* Previene shrinking in flex containers */

  /* Transizioni smooth */
  transition:
    color 0.2s ease-in-out,
    transform 0.2s ease-in-out;

  /* Rendering ottimale */
  shape-rendering: geometricPrecision;
}

/* Cursor pointer quando usata in elementi clickabili */
button .icon,
a .icon,
[role='button'] .icon {
  cursor: pointer;
}

/* ========================================
   SIZE VARIANTS
   WCAG 2.5.5: Touch targets minimi 44x44px
   Ma icone standalone possono essere più piccole
   ======================================== */

.icon.small {
  width: 1rem; /* 16px */
  height: 1rem;
  min-width: 1rem;
  min-height: 1rem;
}

.icon.medium {
  width: 1.25rem; /* 20px */
  height: 1.25rem;
  min-width: 1.25rem;
  min-height: 1.25rem;
}

.icon.large {
  width: 1.5rem; /* 24px */
  height: 1.5rem;
  min-width: 1.5rem;
  min-height: 1.5rem;
}

.icon.xlarge {
  width: 2rem; /* 32px */
  height: 2rem;
  min-width: 2rem;
  min-height: 2rem;
}

/* ========================================
   REDUCED MOTION - WCAG 2.3.3
   ======================================== */
@media (prefers-reduced-motion: reduce) {
  .icon {
    transition: none;
  }
}

/* ========================================
   SEMANTIC VARIANTS - Priority 2
   WCAG 1.4.1: Non fare affidamento solo sul colore
   ======================================== */

.icon.variant-success {
  color: #22c55e; /* Green-500 */
}

.icon.variant-error {
  color: #ef4444; /* Red-500 */
}

.icon.variant-warning {
  color: #d97706; /* Amber-600 - 3.9:1 contrast ✅ */
}

.icon.variant-info {
  color: #3b82f6; /* Blue-500 */
}

/* ========================================
   VARIANT CONTRAST - WCAG 1.4.11 Level AA
   Assicura contrasto minimo 3:1 per icone UI
   ======================================== */

/* Success su sfondo bianco: 3.36:1 ✅ */
/* Error su sfondo bianco: 4.5:1 ✅ */
/* Warning su sfondo bianco: 3.9:1 ✅ */
/* Info su sfondo bianco: 4.26:1 ✅ */

/* ========================================
   DARK MODE VARIANTS
   ======================================== */

@media (prefers-color-scheme: dark) {
  .icon.variant-success {
    color: #4ade80; /* Green-400 - Better on dark backgrounds */
  }

  .icon.variant-error {
    color: #f87171; /* Red-400 */
  }

  .icon.variant-warning {
    color: #fbbf24; /* Amber-400 */
  }

  .icon.variant-info {
    color: #60a5fa; /* Blue-400 */
  }
}

/* ========================================
   HIGH CONTRAST MODE (Windows) - Enhanced
   ======================================== */
@media (prefers-contrast: high) {
  .icon {
    /* Force outline in high contrast */
    outline: 1px solid currentColor;
    outline-offset: 1px;
  }

  /* Force system colors for variants in high contrast */
  .icon.variant-success,
  .icon.variant-error,
  .icon.variant-warning,
  .icon.variant-info {
    color: CanvasText;
    forced-color-adjust: auto;
  }
}
